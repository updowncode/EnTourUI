<div style="background-color:white;margin-top:10px; padding:10px;">
  <div class="row">
    <div class="col-md-12">
      <app-tour-nav-bar [actived]="1"></app-tour-nav-bar>
    </div>
  </div>
  <br />
  <div>&nbsp;</div>
  <div class="row">
    <div class="col-md-12">
      <div class="row" *ngIf="tour">
        <div class="col-md-12">
          <strong style="font-size:28px;" class="tecolor"
            >{{ tour.name  + ':Dates & Prices'}}</strong
          >
        </div>
      </div>
      <!--
        <div class="row">
            <div class="col-md-12">
                <app-message></app-message>
            </div>
        </div>
      -->
    </div>
  </div>
  <div>&nbsp;</div> 
  <div class="row" *ngIf="tour && tour.trips; else: loading">
    <div class="col-md-12">
      <table class="table table-bordered" style="width: 100%;">
        <thead>
          <tr>
            <th
              colspan="2"
              style="text-align: center; vertical-align: middle; background-color: #3f3f3f;"
            >
              <span style="font-size: 14px; color: #ffffff;"
                >&nbsp;Start Date: <br />
              </span>
            </th>
            <th
              style="text-align: center; vertical-align: middle; background-color: #3f3f3f;"
            >
              <span style="font-size: 14px; color: #ffffff;"
                >&nbsp;End Date <br />
              </span>
            </th>
            <th
              style="text-align: center; vertical-align: middle; background-color: #3f3f3f;"
            >
              <span style="font-size: 14px; color: #ffffff;">
                <!-- &nbsp;Trip Cost {{ trip.currencyCode }} (for {{ trip.tripCostForDefaultTravellerQuantity }}) <br /> -->
                &nbsp;Trip Cost Per Person {{ trip.currencyCode }}<br />
              </span>
            </th>
            <th
              style="text-align: center; vertical-align: middle; background-color: #3f3f3f;"  *ngIf="showSingleSupplement"
            >
              <span style="font-size: 14px; color: #ffffff;"
                >&nbsp;Single Supplement {{ trip.currencyCode }} <br />
              </span>
            </th>
            <th
              style="text-align: center; vertical-align: middle; background-color: #3f3f3f;"
            ></th>
          </tr>
        </thead>
        <tbody>
          <tr
            style="cursor:pointer;"
            *ngFor="let t of tour.trips; trackBy: trackByTrips"
            [class.trselected]="t === trip"
            (mouseover)="onSelectTrip(t)"
            (click)="onSelectTrip(t)"
          >
            <td [attr.colspan]="1 + 1" style="text-align:center;vertical-align: middle;">
              <span style="font-size: 14px;">{{
                t.startDate | date: "EEE, MMM d, yyyy"
              }}</span>
            </td>
            <td style="text-align:center;vertical-align: middle;">
              <span style="font-size: 14px;"
                >{{ t.endDate | date: "EEE, MMM d, yyyy" }}
              </span>
            </td>
            <td style="text-align:center;vertical-align: middle;">
              <span *ngIf="t.tripDiscountForDefaultPerTraveller === 0"
                style="font-size: 14px;"
                >${{ t.tripCostForDefaultPerTraveller | formatDecimal }}
              </span>
              <span *ngIf="t.tripDiscountForDefaultPerTraveller > 0"
                style="font-size: 13px; text-decoration: line-through;text-decoration-color:red;"
                >${{ t.tripCostForDefaultPerTraveller | formatDecimal }}
              </span>
              &nbsp;
              <span *ngIf="t.tripDiscountForDefaultPerTraveller > 0"
                style="font-size: 14px;"
                >${{ t.tripDiscountForDefaultPerTraveller | formatDecimal }}
              </span>

              <!-- <span
                style="font-size: 13px;"
                *ngIf="t.tripCostForDefaultPerTraveller == -1"
                >Sold Out
              </span> -->
            </td>
            <td style="text-align:center;vertical-align: middle;" *ngIf="showSingleSupplement">
              <span style="font-size: 14px;" 
                >${{ t.tripSingleSupplement | formatDecimal}}
              </span>
              <!-- <span
                style="font-size: 13px;"
                *ngIf="t.tripSingleSupplement == -1"
                >Sold Out
              </span> -->
            </td>
            <td style="text-align:center;vertical-align: middle;">
              <!--
                <a class="btn btn-primary" id="myNav" href="{{'.' + baseHref + '/rooms?tourId=' + tour.id + '\&tripId=' + t.id}}">

                    Select it
                </a>
              -->
              <!-- <button
                class="btn btn-warning"
                style="background-color:#d47027!important; color: white;"
                bind-disabled="
                  t.tripCostForDefaultPerTraveller == -1 ||
                  t.tripSingleSupplement == -1
                "
                (click)="gotoTraveller(tour.id, t.id)"
              >
                Book >
              </button> -->
              <button
              class="btn btn-warning"
              style="background-color:#d47027!important; color: white;"
              *ngIf="!t.soldout"
              (click)="gotoTraveller(tour.id, t.id)"
            >
              Book >
            </button>
            <strong *ngIf="t.soldout" style="color:red; font-size: 18px;">SOLD OUT</strong>
              <!--
                <button mat-raised-button color="primary"  #myNav style="background-color:#d47027!important"  (click)="gotoTraveller(tour.id, t.id)">Select</button>
              -->
            </td>
          </tr>
        </tbody>
      </table>
      <app-trip-details [trip]="trip"></app-trip-details>
    </div>
  </div>
  <ng-template #loading>
    <div style="text-align:center;font-size:36px;margin-top: 100px;margin-bottom: 100px;color:rgb(246, 121, 4);">
      Loading Resources...
    </div>
    <app-message></app-message
  ></ng-template>
</div>
<!-- <div
  id="main_content"
  style="top:1px;min-height: 0px !important; height:0px; display: none"
></div> -->
